<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docker for Modern Development - soorajks2002</title>
    <link rel="stylesheet" href="../../style.css">
</head>

<body>
    <div class="container">
        <div id="navbar-container"></div>

        <main class="content">
            <article class="blog-article">
                <div class="back-link">
                    <a href="../">‚Üê Back to Blog</a>
                </div>

                <header>
                    <h1>Docker for Modern Development</h1>
                    <div class="meta">February 10, 2024</div>
                </header>

                <div class="content">
                    <h1>Docker for Modern Development</h1>

<p>Docker has revolutionized how we develop, test, and deploy applications. Let's explore how to leverage Docker for a better development experience.</p>

<h2>Why Docker?</h2>

<h3>Development Benefits</h3>
<ul>
<li><strong>Consistency</strong>: Same environment everywhere</li>
<li><strong>Isolation</strong>: No more "works on my machine"</li>
<li><strong>Easy setup</strong>: New developers onboard quickly</li>
<li><strong>Clean slate</strong>: Reset environment anytime</li>
</ul>

<h3>Production Benefits</h3>
<ul>
<li><strong>Scalability</strong>: Easy horizontal scaling</li>
<li><strong>Portability</strong>: Run anywhere Docker runs</li>
<li><strong>Resource efficiency</strong>: Lightweight containers</li>
<li><strong>CI/CD integration</strong>: Seamless deployment</li>
</ul>

<h2>Basic Docker Concepts</h2>

<h3>Images vs Containers</h3>
<ul>
<li><strong>Image</strong>: Blueprint for containers (like a class)</li>
<li><strong>Container</strong>: Running instance of an image (like an object)</li>
</ul>

<h3>Dockerfile</h3>
<p>A text file with instructions to build an image:</p>

<code>`</code>dockerfile
<p>FROM node:18-alpine</p>

<p>WORKDIR /app</p>

<p>COPY package*.json ./</p>
<p>RUN npm install</p>

<p>COPY . .</p>

<p>EXPOSE 3000</p>

<p>CMD ["npm", "start"]</p>
<code>`</code>

<h2>Development Workflow</h2>

<h3>1. Containerize Your App</h3>
<code>`</code>dockerfile
<h1>Multi-stage build for optimization</h1>
<p>FROM node:18-alpine AS builder</p>

<p>WORKDIR /app</p>
<p>COPY package*.json ./</p>
<p>RUN npm ci --only=production</p>

<p>FROM node:18-alpine AS runtime</p>

<p>WORKDIR /app</p>
<p>COPY --from=builder /app/node_modules ./node_modules</p>
<p>COPY . .</p>

<p>EXPOSE 3000</p>
<p>CMD ["npm", "start"]</p>
<code>`</code>

<h3>2. Docker Compose for Multi-Service Apps</h3>
<code>`</code>yaml
<p>version: '3.8'</p>

<p>services:</p>
<p>app:</p>
<p>build: .</p>
<p>ports:</p>
<ul>
<li>"3000:3000"</li>
</ul>
<p>volumes:</p>
<ul>
<li>.:/app</li>
<li>/app/node_modules</li>
</ul>
<p>environment:</p>
<ul>
<li>NODE_ENV=development</li>
</ul>
<p>depends_on:</p>
<ul>
<li>database</li>
<li>redis</li>
</ul>

<p>database:</p>
<p>image: postgres:15</p>
<p>environment:</p>
<p>POSTGRES_DB: myapp</p>
<p>POSTGRES_USER: dev</p>
<p>POSTGRES_PASSWORD: password</p>
<p>volumes:</p>
<ul>
<li>postgres_data:/var/lib/postgresql/data</li>
</ul>
<p>ports:</p>
<ul>
<li>"5432:5432"</li>
</ul>

<p>redis:</p>
<p>image: redis:7-alpine</p>
<p>ports:</p>
<ul>
<li>"6379:6379"</li>
</ul>

<p>volumes:</p>
<p>postgres_data:</p>
<code>`</code>

<h3>3. Development Scripts</h3>
<code>`</code>json
<p>{</p>
<p>"scripts": {</p>
<p>"dev": "docker-compose up --build",</p>
<p>"dev:detached": "docker-compose up -d --build",</p>
<p>"dev:logs": "docker-compose logs -f",</p>
<p>"dev:down": "docker-compose down",</p>
<p>"dev:clean": "docker-compose down -v --rmi all"</p>
<p>}</p>
<p>}</p>
<code>`</code>

<h2>Best Practices</h2>

<h3>Dockerfile Optimization</h3>
<code>`</code>dockerfile
<h1>Use specific versions</h1>
<p>FROM node:18.19.0-alpine</p>

<h1>Create non-root user</h1>
<p>RUN addgroup -g 1001 -S nodejs</p>
<p>RUN adduser -S nextjs -u 1001</p>

<h1>Copy package files first (better caching)</h1>
<p>COPY package*.json ./</p>
<p>RUN npm ci --only=production</p>

<h1>Copy source code</h1>
<p>COPY --chown=nextjs:nodejs . .</p>

<h1>Switch to non-root user</h1>
<p>USER nextjs</p>

<h1>Use exec form</h1>
<p>CMD ["npm", "start"]</p>
<code>`</code>

<h3>.dockerignore</h3>
<code>`</code>
<p>node_modules</p>
<p>npm-debug.log</p>
<p>.git</p>
<p>.gitignore</p>
<p>README.md</p>
<p>.env</p>
<p>.nyc_output</p>
<p>coverage</p>
<p>.nyc_output</p>
<p>.coverage</p>
<p>.DS_Store</p>
<code>`</code>

<h3>Development vs Production</h3>

<p>#### Development</p>
<code>`</code>yaml
<h1>docker-compose.dev.yml</h1>
<p>services:</p>
<p>app:</p>
<p>build:</p>
<p>context: .</p>
<p>target: development</p>
<p>volumes:</p>
<ul>
<li>.:/app</li>
<li>/app/node_modules</li>
</ul>
<p>environment:</p>
<ul>
<li>NODE_ENV=development</li>
<li>DEBUG=*</li>
</ul>
<code>`</code>

<p>#### Production</p>
<code>`</code>yaml
<h1>docker-compose.prod.yml</h1>
<p>services:</p>
<p>app:</p>
<p>build:</p>
<p>context: .</p>
<p>target: production</p>
<p>restart: unless-stopped</p>
<p>environment:</p>
<ul>
<li>NODE_ENV=production</li>
</ul>
<code>`</code>

<h2>Common Commands</h2>

<code>`</code>bash
<h1>Build image</h1>
<p>docker build -t myapp .</p>

<h1>Run container</h1>
<p>docker run -p 3000:3000 myapp</p>

<h1>List containers</h1>
<p>docker ps</p>

<h1>Stop container</h1>
<p>docker stop <container-id></p>

<h1>Remove container</h1>
<p>docker rm <container-id></p>

<h1>View logs</h1>
<p>docker logs <container-id></p>

<h1>Execute commands in container</h1>
<p>docker exec -it <container-id> sh</p>
<code>`</code>

<h2>Debugging Containers</h2>

<h3>Shell Access</h3>
<code>`</code>bash
<h1>Access running container</h1>
<p>docker exec -it myapp sh</p>

<h1>Run new container with shell</h1>
<p>docker run -it myapp sh</p>
<code>`</code>

<h3>Health Checks</h3>
<code>`</code>dockerfile
<p>HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \</p>
<p>CMD curl -f http://localhost:3000/health || exit 1</p>
<code>`</code>

<p>Docker transforms development from "it works on my machine" to "it works everywhere." Start small, containerize one service, and gradually expand to full orchestration with Docker Compose!</p>
                </div>
            </article>
        </main>

        <div id="footer-container"></div>
    </div>

    <script src="../../navbar.js"></script>
    <script src="../../footer.js"></script>
</body>

</html>